<!DOCTYPE html>
<html>
<head>
	<title>이미지로 보는 Git 개념서 - 현록</title>
	<meta charset="utf-8">
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<link rel="shortcut icon" href="../../../common/resources/ico/Blackdeer.ico">
	<link rel="icon" href="../../../common/resources/ico/Blackdeer.ico">
	<meta property="og:title" content="이미지로 보는 Git 개념서 - 현록">
	<meta property="og:description" content="이미지로 보는 Git 개념서 - 현록">
	<meta property="og:image" content="https://blackdeery.github.io/common/resources/img/Blackdeer.png">
	<meta property="msapplication-TileColor" content="#000000">
	<meta property="msapplication-TileImage" content="https://blackdeery.github.io/common/resources/img/Blackdeer.png">
	<link rel="apple-touch-icon-precomposed" href="../../../common/resources/img/Blackdeer.png">
	
	<!-- Latest compiled and minified CSS -->
	<link id="themeCSS" rel="stylesheet" href="../../../common/resources/css/bootstrap_slate.min.css" media="all">
	
	<!-- Web Fonts -->
	<link rel="stylesheet" href="https://fonts.googleapis.com/earlyaccess/nanumgothic.css">

	<!-- Latest compiled and minified JavaScript -->
	<script src="../../../common/resources/js/jquery-3.4.1.min.js"></script>
	<script src="../../../common/resources/js/popper.min.js"></script>
	<script src="../../../common/resources/js/bootstrap-v.4.3.1.min.js"></script>
    
    <!-- Custom CSS -->
    <link rel="stylesheet" href="../custom.css">
    
    <script>
		$(document).ready(function() {
			SetEvent();
		});
		function SetEvent() {
            $('#hide01_show').on('click', function() {
				$('#hide01').show();
                $('#hide01_show').hide();
			});
            $('.hide01_hide').on('click', function() {
                $('#hide01_show').show();
				$('#hide01').hide();
			});
            $('#hide02_show').on('click', function() {
				$('#hide02').show();
                $('#hide02_show').hide();
			});
            $('.hide02_hide').on('click', function() {
                $('#hide02_show').show();
				$('#hide02').hide();
			});
            $('#hide01').hide();
            $('#hide02').hide();
		};
	</script>
</head>
<body>
	<div id="div-content" class="container-fluid">
        <p>&nbsp;</p>
        <p>
            [branch]
        </p>
        <p>
            <img src="03_01.gif">
        </p>
        <p>&nbsp;</p>
        <p>
            Git의 가장 큰 특징인 Branch(줄기, 가지)를 만들고 사용한다.
        </p>
        <p>&nbsp;</p>
        <hr>
        <p>&nbsp;</p>
        <p>
            <span class="cmd">
                <span class="caret">&gt;</span> git &nbsp; branch &nbsp; 새로운_로컬브랜치명
            </span>
        </p>
        <div class="cmd">
            <p>
                <span class="caret">&gt;</span> git &nbsp; branch &nbsp; <span class="dotted">a01</span>
            </p>
            <hr>
            
        </div>
        <p>
            <img src="03_01.gif">
        </p>
        <p>
            새로운 로컬 브랜치를 만든다.
        </p>
        <p class="hang1 color-gray">
            (만들 뿐, 현재 작업 브랜치가 전환되진 않는다. 전환은 <span class="cmd">git checkout 브랜치명</span><a href="../04_checkout/" target="_blank">[checkout]</a>으로)
        </p>
        <p>
            로컬 HEAD가 가리키는 커밋을 공유하는 상태로 브랜치가 만들어진다.
        </p>
        <p>&nbsp;</p>
        <p>
            <span class="cmd">git branch</span>만으로 로컬브랜치들을 조회할 수 있다.
        </p>
        <p>
            <span class="cmd">git branch <span class="color-yellow">-r</span></span>로는 리모트브랜치를 볼 수 있고, 
        </p>
        <p>
            <span class="cmd">git branch <span class="color-yellow">-a</span></span>로 전체 브랜치를 볼 수 있다. 
        </p>
        <div class="cmd">
            <p>
                <span class="caret">&gt;</span> git &nbsp; branch &nbsp; <span class="dotted">-a</span>
            </p>
            <hr>
            <p class="response">
                * <span class="color-my-green">a01</span><span class="comment">&lt;---- 현재 작업 중인 로컬브랜치 표시</span>
            </p>
            <p class="response">
                &nbsp;&nbsp;main
            </p>
            <p class="response color-my-red">
                &nbsp;&nbsp;remotes/origin/HEAD<span class="color-gray"> -&gt; origin/main</span><span class="comment">&lt;---- origin 원격저장소가 현재 origin/main 브랜치를 가리키고 있음</span>
            </p>
            <p class="response color-my-red">
                &nbsp;&nbsp;remotes/origin/a01
            </p>
            <p class="response color-my-red">
                &nbsp;&nbsp;remotes/origin/main
            </p>
            <p class="response">
                <span class="comment">└─── 리모트브랜치는 저장소별명(origin)이 붙음</span>
            </p>
        </div>
        <p>&nbsp;</p>
        <hr>
        <p>&nbsp;</p>
        <p>
            <span class="hide-btn" id="hide01_show">(혹시 로컬브랜치를 기존의 리모트브랜치와 연동시키는 branch 명령어는 여기를 눌러 펼쳐보기...)</span>
        </p>
        <div id="hide01">
            <p>
                <span class="hide-btn hide01_hide">(여기를 눌러 접기)</span>
            </p>
            <p>
                [로컬브랜치를 기존의 리모트브랜치와 연동시키려면]
            </p>
            <p>
                <span class="cmd">
                    <span class="caret">&gt;</span> git &nbsp; branch &nbsp; <span class="dotted">-u &nbsp; 리모트브랜치 &nbsp; 로컬브랜치</span>
                </span>
            </p>
            <div class="cmd">
                <p>
                    <span class="caret">&gt;</span> git &nbsp; branch &nbsp; <span class="dotted">-u &nbsp; origin/a01 &nbsp; &nbsp;a01</span>
                </p>
                <hr>
                <p class="response">
                    Branch 'a01' set up to track remote branch 'a01' from 'origin'.
                </p>
            </div>
            <p>
                <span class="cmd">
                    <span class="caret">&gt;</span> git &nbsp; branch &nbsp; <span class="dotted">--set-upstream-to=리모트브랜치 &nbsp; 로컬브랜치</span>
                </span>
            </p>
            <div class="cmd">
                <p>
                    <span class="caret">&gt;</span> git &nbsp; branch &nbsp; <span class="dotted">--set-upstream-to=origin/a01 &nbsp; &nbsp;a01</span>
                </p>
                <hr>
                <p class="response">
                    Branch 'a01' set up to track remote branch 'a01' from 'origin'.
                </p>
            </div>
            <p>
                정말로 기존의 리모트브랜치를 사용하는 것이 맞는가는 아래의 전략 펼쳐보기를 참고하자.
            </p>
            <p class="hang1 color-gray">
                (작업 위치를 옮겨서 설정하는 것이 아니라, 여러 명이 연동하려고 한다면 비추천...)
            </p>
            <p>
                일반적인 것처럼 새로운 로컬브랜치가 새로운 리모트브랜치를 만들면서 연동되게 하려면 그냥 <a href="../08_push/" target="_blank">[push]</a>에서 -u
            </p>
            <p>&nbsp;</p>
            <p>
                <span class="hide-btn hide01_hide">(여기를 눌러 접기)</span>
            </p>
        </div>
        <p>&nbsp;</p>
        <hr>
        <p>&nbsp;</p>
        <p>
            <span class="hide-btn" id="hide02_show">(브랜치 사용 전략에 대해서는 여기를 눌러 펼쳐보기...)</span>
        </p>
        <div id="hide02">
            <p>
                <span class="hide-btn hide02_hide">(여기를 눌러 접기)</span>
            </p>
            <p>
                [브랜치 사용 전략]
            </p>
            <p>&nbsp;</p>
            <p>
                팀에서 사용하고자 하는 전략이 있을테니 성실히 따르도록 하고,
            </p>
            <p>
                아직 브랜치에 대한 개념이 희미하다면 조금이나마 보태고자 적어본다.
            </p>
            <p>&nbsp;</p>
            <hr style="border-top: 1px dotted;">
            <p>
                <b>"여러 명이 한 리모트브랜치에서 작업하는 것은 좋지 않다."</b>
            </p>
            <p>
                <img src="03_03.gif">
            </p>
            <p>
                위의 이미지에서 붉게 표시되는 부분은 자신의 로컬 커밋이다.
            </p>
            <p>
                로컬 커밋의 작성 시점과는 다른 충돌이 발생하여,
            </p>
            <p>
                매 사용자가 매 순간 이러한 처리를 해줘야할 수 있다.
            </p>
            <p>
                매 순간 이렇다면 굉장히 귀찮을 것은 물론이고,
            </p>
            <p>
                Git은 브랜치를 적극적으로 활용하도록 하는데
            </p>
            <p>
                굳이 적은 브랜치에 몰려서 이러는건 옳지 않아보인다.
            </p>
            <hr style="border-top: 1px dotted;">
            <p>
                <b>"하나의 브랜치에서 병합을 담당한다면??"</b>
            </p>
            <p>
                <img src="03_04.gif">
            </p>
            <p>
                브랜치 A에서만 병합을 한다면 서로 얽힐 일은 없겠지만,
            </p>
            <p>
                브랜치 B에서는 A의 변동 사항이 적용되지 않은 채 계속 작업이 이뤄지므로
            </p>
            <p>
                병합 과정에서 반복되는 수정 작업이 일어날 수 있다.
            </p>
            <hr style="border-top: 1px dotted;">
            <p>
                <b>"브랜치끼리 서로 병합을 해간다면??"</b>
            </p>
            <p>
                <img src="03_05.gif">
            </p>
            <p>
                브랜치 A와 B 모두 서로 병합을 한다면 서로의 변동 사항을 항상 적용할 수는 있지만,
            </p>
            <p>
                병합의 주체가 없고 항상 시간순으로만 판단해야 하고
            </p>
            <p>
                임시 커밋이라도 다른 쪽에 바로 반영되거나 헷갈릴 수 있다.
            </p>
            <hr style="border-top: 1px dotted;">
            <p>
                <b><span class="color-yellow">"부모 브랜치는 병합만을, 자식 브랜치는 작업만을"</span></b>
            </p>
            <p>
                <img src="03_06.gif">
            </p>
            <p>
                작업은 자식 브랜치에서만 이뤄지도록 하고,
            </p>
            <p>
                부모 브랜치에서는 이를 병합한다.
            </p>
            <p>
                형제자식 브랜치 끼리의 충돌도 발생할 수 있으니,
            </p>
            <p>
                병합은 너무 늦지는 않게, 자주 해주면
            </p>
            <p>
                서로가 같은 파일을 다르게 바꿨을 때 그 괴리가 커지지 않게 조율시킬 수 있다.
            </p>
            <p class="hang1 color-gray">
                (이건 협업에서 오는 필연적인 문제이고, 병합이 그걸 해결하는 방법이니...)
            </p>
            <p>
                병합한 후에는 다시 병합 커밋에서 새로운 자식 브랜치들로 작업하면 더 깔끔하다.
            </p>
            <p class="hang1 color-gray">
                (병합에서 충돌들이 해결된 상태라서)
            </p>
            <p>
                브랜치가 많아질 수는 있어도, 도표로 보면 개념이 어렵지 않다.
            </p>
            <p>&nbsp;</p>
            <p>
                <span class="hide-btn hide02_hide">(여기를 눌러 접기)</span>
            </p>
        </div>
        <p>&nbsp;</p>
        <hr>
        <p>&nbsp;</p>
        <p>
            이제 브랜치를 전환해서 사용해본다.
        </p>
        <p>
            <a href="../04_checkout/" target="_blank">[checkout]으로 바로 가려면 클릭</a>
        </p>
        <p>
            <img src="../04_checkout/04_01.gif">
        </p>
        <p>&nbsp;</p>
        <hr>
        <p>&nbsp;</p>
        <p>
            로컬 브랜치를 삭제하려면, 브랜치의 커밋들이 모두 push되어 있으며,
        </p>
        <p>
            지금 로컬에서 사용 중이지 않은 상태로 둔다(checkout 으로 다른 브랜치를 향하거나, detach한다.).
        </p>
        <p>
            <span class="cmd">
                <span class="caret">&gt;</span> git &nbsp; branch &nbsp; <span class="dotted"><span class="color-yellow">-d(--delete)</span> &nbsp; 지울_브랜치</span>
            </span>
        </p>
        <p>
            위의 조건을 갖추지 않았다면, <span class="cmd">-d(--delete)</span> 대신 <span class="cmd color-yellow">-D(--delete --force)</span>옵션을 사용한다.
        </p>
        <p>&nbsp;</p>
        <p>
            아래의 명령어로 리모트 브랜치를 삭제할 수 있다.
        </p>
        <p>
            <span class="cmd">
                <span class="caret">&gt;</span> git &nbsp; push &nbsp; 저장소명 &nbsp; <span class="color-yellow">-d(--delete)</span> &nbsp; 리모트브랜치
            </span>
        </p>
        <div class="cmd">
            <p>
                <span class="caret">&gt;</span> git &nbsp; push &nbsp;&nbsp; origin &nbsp; <span class="color-yellow">-d(--delete)</span> &nbsp; test1
            </p>
            <hr>
            <p class="response">
                To https://github.com/BlackdeerY/example.git
            </p>
            <p class="response">
                &nbsp;-&nbsp;[deleted]&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;test1
            </p>
        </div>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
        <p>&nbsp;</p>
	</div>
</body>
</html>